var Oe=Object.defineProperty;var Xe=(s,e,l)=>e in s?Oe(s,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[e]=l;var v=(s,e,l)=>(Xe(s,typeof e!="symbol"?e+"":e,l),l);import{S as Pe,i as Ne,s as Ve,a as L,e as fe,c as M,b as D,H as ge,h as f,J as Q,K as W,m as g,n,k as S,q as V,l as q,r as G,G as c,L as _e,u as te,g as he,f as Ye,d as ve,M as Fe,N as He,y as Ke,z as Re,A as Je,B as je,v as Qe}from"../chunks/index.ad1e6ef4.js";function Ce(s){let e,l,t,i,o;return{c(){e=Q("line"),this.h()},l(r){e=W(r,"line",{"data-testid":!0,x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),g(e).forEach(f),this.h()},h(){n(e,"data-testid","cell-wall-north"),n(e,"x1",l=s[0].column*s[1]),n(e,"y1",t=s[0].row*s[1]),n(e,"x2",i=s[0].column*s[1]+s[1]),n(e,"y2",o=s[0].row*s[1]),n(e,"stroke","black"),n(e,"stroke-width","3"),n(e,"stroke-linecap","square")},m(r,a){D(r,e,a)},p(r,a){a&3&&l!==(l=r[0].column*r[1])&&n(e,"x1",l),a&3&&t!==(t=r[0].row*r[1])&&n(e,"y1",t),a&3&&i!==(i=r[0].column*r[1]+r[1])&&n(e,"x2",i),a&3&&o!==(o=r[0].row*r[1])&&n(e,"y2",o)},d(r){r&&f(e)}}}function be(s){let e,l,t,i,o;return{c(){e=Q("line"),this.h()},l(r){e=W(r,"line",{"data-testid":!0,stroke:!0,"stroke-width":!0,x1:!0,y1:!0,x2:!0,y2:!0,"stroke-linecap":!0}),g(e).forEach(f),this.h()},h(){n(e,"data-testid","cell-wall-west"),n(e,"stroke","black"),n(e,"stroke-width","3"),n(e,"x1",l=s[0].column*s[1]),n(e,"y1",t=s[0].row*s[1]),n(e,"x2",i=s[0].column*s[1]),n(e,"y2",o=s[0].row*s[1]+s[1]),n(e,"stroke-linecap","square")},m(r,a){D(r,e,a)},p(r,a){a&3&&l!==(l=r[0].column*r[1])&&n(e,"x1",l),a&3&&t!==(t=r[0].row*r[1])&&n(e,"y1",t),a&3&&i!==(i=r[0].column*r[1])&&n(e,"x2",i),a&3&&o!==(o=r[0].row*r[1]+r[1])&&n(e,"y2",o)},d(r){r&&f(e)}}}function ye(s){let e,l,t,i,o;return{c(){e=Q("line"),this.h()},l(r){e=W(r,"line",{"data-testid":!0,stroke:!0,"stroke-width":!0,x1:!0,y1:!0,x2:!0,y2:!0,"stroke-linecap":!0}),g(e).forEach(f),this.h()},h(){n(e,"data-testid","cell-wall-east"),n(e,"stroke","black"),n(e,"stroke-width","3"),n(e,"x1",l=s[0].column*s[1]+s[1]),n(e,"y1",t=s[0].row*s[1]),n(e,"x2",i=s[0].column*s[1]+s[1]),n(e,"y2",o=s[0].row*s[1]+s[1]),n(e,"stroke-linecap","square")},m(r,a){D(r,e,a)},p(r,a){a&3&&l!==(l=r[0].column*r[1]+r[1])&&n(e,"x1",l),a&3&&t!==(t=r[0].row*r[1])&&n(e,"y1",t),a&3&&i!==(i=r[0].column*r[1]+r[1])&&n(e,"x2",i),a&3&&o!==(o=r[0].row*r[1]+r[1])&&n(e,"y2",o)},d(r){r&&f(e)}}}function Ee(s){let e,l,t,i,o;return{c(){e=Q("line"),this.h()},l(r){e=W(r,"line",{"data-testid":!0,stroke:!0,"stroke-width":!0,x1:!0,y1:!0,y2:!0,x2:!0,"stroke-linecap":!0}),g(e).forEach(f),this.h()},h(){n(e,"data-testid","cell-wall-south"),n(e,"stroke","black"),n(e,"stroke-width","3"),n(e,"x1",l=s[0].column*s[1]),n(e,"y1",t=s[0].row*s[1]+s[1]),n(e,"y2",i=s[0].row*s[1]+s[1]),n(e,"x2",o=s[0].column*s[1]+s[1]),n(e,"stroke-linecap","square")},m(r,a){D(r,e,a)},p(r,a){a&3&&l!==(l=r[0].column*r[1])&&n(e,"x1",l),a&3&&t!==(t=r[0].row*r[1]+r[1])&&n(e,"y1",t),a&3&&i!==(i=r[0].row*r[1]+r[1])&&n(e,"y2",i),a&3&&o!==(o=r[0].column*r[1]+r[1])&&n(e,"x2",o)},d(r){r&&f(e)}}}function We(s){let e=!s[0].north||s[0].north&&!s[0].linked(s[0].north),l,t=!s[0].west||s[0].west&&!s[0].linked(s[0].west),i,o=!s[0].east||s[0].east&&!s[0].linked(s[0].east),r,a=!s[0].south||s[0].south&&!s[0].linked(s[0].south),A,C=e&&Ce(s),b=t&&be(s),d=o&&ye(s),w=a&&Ee(s);return{c(){C&&C.c(),l=L(),b&&b.c(),i=L(),d&&d.c(),r=L(),w&&w.c(),A=fe()},l(u){C&&C.l(u),l=M(u),b&&b.l(u),i=M(u),d&&d.l(u),r=M(u),w&&w.l(u),A=fe()},m(u,m){C&&C.m(u,m),D(u,l,m),b&&b.m(u,m),D(u,i,m),d&&d.m(u,m),D(u,r,m),w&&w.m(u,m),D(u,A,m)},p(u,[m]){m&1&&(e=!u[0].north||u[0].north&&!u[0].linked(u[0].north)),e?C?C.p(u,m):(C=Ce(u),C.c(),C.m(l.parentNode,l)):C&&(C.d(1),C=null),m&1&&(t=!u[0].west||u[0].west&&!u[0].linked(u[0].west)),t?b?b.p(u,m):(b=be(u),b.c(),b.m(i.parentNode,i)):b&&(b.d(1),b=null),m&1&&(o=!u[0].east||u[0].east&&!u[0].linked(u[0].east)),o?d?d.p(u,m):(d=ye(u),d.c(),d.m(r.parentNode,r)):d&&(d.d(1),d=null),m&1&&(a=!u[0].south||u[0].south&&!u[0].linked(u[0].south)),a?w?w.p(u,m):(w=Ee(u),w.c(),w.m(A.parentNode,A)):w&&(w.d(1),w=null)},i:ge,o:ge,d(u){C&&C.d(u),u&&f(l),b&&b.d(u),u&&f(i),d&&d.d(u),u&&f(r),w&&w.d(u),u&&f(A)}}}function Ze(s,e,l){let{cell:t}=e,{cellSize:i=30}=e;return s.$$set=o=>{"cell"in o&&l(0,t=o.cell),"cellSize"in o&&l(1,i=o.cellSize)},[t,i]}let $e=class extends Pe{constructor(e){super(),Ne(this,e,Ze,We,Ve,{cell:0,cellSize:1})}};function j(s,e){return Math.floor(Math.random()*(e-s+1))+s}function xe(s){let e=s.randomCell();const l=[];for(;e;){const t=e.neighbours().filter(i=>!i.links.size);if(t.length){l.push(e);const i=t[j(0,t.length-1)];e.link(i,!0),e=i}else e=l.pop()||null}return s}function es(s){const e=[];for(s.cells.forEach(l=>{e.push(l)}),e.splice(j(0,e.length-1),1);e.length>0;){let l=e[j(0,e.length-1)],t=[l];for(;e.indexOf(l)!==-1;){l=l.neighbours()[j(0,l.neighbours().length-1)];const i=t.indexOf(l);i!==-1?t=t.slice(0,i+1):t.push(l)}for(let i=0;i<t.length-1;i++)t[i].link(t[i+1],!0),e.splice(e.indexOf(t[i]),1)}return s}function ss(s){let e=s.randomCell();for(;e;){const l=e.neighbours().filter(t=>!t.links.size);if(l.length){const t=l[j(0,l.length-1)];e.link(t,!0),e=t}else{e=null;for(const t of s.cells){const i=t.neighbours().filter(o=>o.links.size);if(!t.links.size&&i.length){e=t;const o=i[j(0,i.length-1)];e.link(o,!0);break}}}}return s}function ls(s){return s.grid.forEach(e=>{let l=[];e.forEach(t=>{l.push(t);const i=!t.east,o=!t.north;if(i||!o&&j(0,2)===0){const a=l[j(0,l.length-1)];a.north&&(a.link(a.north,!0),l=[])}else t.east&&t.link(t.east,!0)})}),s}function ze(s){const e=[xe,es,ss,ls];return e[j(0,e.length-1)](s)}class ts{constructor(e){v(this,"root");v(this,"cells");this.root=e,this.cells=new Map,this.cells.set(this.root,0)}setCellDistance(e,l){this.cells.set(e,l)}max(){let e=this.root,l=0;return this.cells.forEach((t,i)=>{t>l&&(e=i,l=t)}),[e,l]}}class is{constructor(e,l){v(this,"id");v(this,"row");v(this,"column");v(this,"links");v(this,"north");v(this,"south");v(this,"west");v(this,"east");this.id=`${e}-${l}`,this.row=e,this.column=l,this.links=new Map}link(e,l=!1){this.links.has(e.id)||(this.links.set(e.id,{cell:e,bidi:l}),l&&e.link(this,!0))}unlink(e){this.links.delete(e.id),e.links.has(this.id)&&e.unlink(this)}linked(e){return this.links.has(e.id)}neighbours(){const e=[];return this.north&&e.push(this.north),this.south&&e.push(this.south),this.east&&e.push(this.east),this.west&&e.push(this.west),e}distances(){const e=new ts(this);let l=[this];for(;l.length>0;){const t=[];l.forEach(i=>{i.links.forEach(o=>{e.cells.get(o.cell)===void 0&&(e.setCellDistance(o.cell,e.cells.get(i)+1),t.push(o.cell))})}),l=t}return e}}class De{constructor(e,l){v(this,"rows");v(this,"columns");v(this,"grid");v(this,"cells");this.rows=e,this.columns=l,this.cells=[],this.grid=this.prepareGrid(),this.configureCells()}prepareGrid(){return Array.from({length:this.rows}).map((l,t)=>Array.from({length:this.columns}).map((o,r)=>{const a=new is(t,r);return this.cells.push(a),a}))}configureCells(){this.cells.forEach(e=>{this.grid[e.row-1]&&(e.north=this.grid[e.row-1][e.column]),this.grid[e.row+1]&&(e.south=this.grid[e.row+1][e.column]),this.grid[e.row][e.column+1]&&(e.east=this.grid[e.row][e.column+1]),this.grid[e.row][e.column-1]&&(e.west=this.grid[e.row][e.column-1])})}size(){return this.columns*this.rows}randomCell(){return this.cells[j(0,this.cells.length)]}}function Se(s){const e=s.cells[0].distances(),[l]=e.max(),t=l.distances(),[i]=t.max();return[i,l]}class rs{constructor(e){v(this,"__cursorState","idle");v(this,"debug",!1);v(this,"columns",5);v(this,"rows",5);v(this,"maze",ze(new De(this.rows,this.columns)));v(this,"startAndEndCells",Se(this.maze));v(this,"cursor");v(this,"cellSize",30);v(this,"level",1);v(this,"score",0);v(this,"scoreDelta",0);v(this,"rowsAndColumnsDelta",3);v(this,"visitedCells",new Map);v(this,"onCursorUpdate");v(this,"onLevelUp");v(this,"__navigationConfig",{right:{isLinked:e=>e.east&&e.linked(e.east)||!1,cursorUpdate:{property:"column",value:1}},left:{isLinked:e=>e.west&&e.linked(e.west)||!1,cursorUpdate:{property:"column",value:-1}},up:{isLinked:e=>e.north&&e.linked(e.north)||!1,cursorUpdate:{property:"row",value:-1}},down:{isLinked:e=>e.south&&e.linked(e.south)||!1,cursorUpdate:{property:"row",value:1}}});const{row:l,column:t}=this.startAndEndCells[0];this.visitedCells.set(this.startAndEndCells[0].id,1),this.cursor={row:l,column:t},this.onCursorUpdate=e}__initLevel(){this.maze=ze(new De(this.rows,this.columns)),this.startAndEndCells=Se(this.maze),this.visitedCells=new Map,this.visitedCells.set(this.startAndEndCells[0].id,1);const{row:e,column:l}=this.startAndEndCells[0];this.cursor={row:e,column:l}}cursorToScreenCoordinates(e){return(e+1)*this.cellSize-this.cellSize/2}levelUp(){var e;this.rows+=this.rowsAndColumnsDelta,this.columns+=this.rowsAndColumnsDelta,this.level+=1,this.__initLevel(),(e=this.onLevelUp)==null||e.call(this,this.level)}__handleCursorMovement(e,l){const{isLinked:t,cursorUpdate:i}=this.__navigationConfig[e];t(l)&&(this.cursor[i.property]+=i.value)}moveCursor(e,l=!1){var o;if(this.__cursorState==="moving"&&!l)return;const t=this.maze.grid[this.cursor.row][this.cursor.column];this.__handleCursorMovement(e,t);const i=this.maze.grid[this.cursor.row][this.cursor.column];if(i!==t){if(this.__cursorState="moving",this.visitedCells.has(i.id)?this.scoreDelta=-5:this.scoreDelta=3,this.score+=this.scoreDelta,(o=this.onCursorUpdate)==null||o.call(this,this.cursor),i.links.size===2){const r={right:"left",left:"right",down:"up",up:"down"}[e];r!=="up"&&i.north&&i.linked(i.north)&&setTimeout(()=>{this.moveCursor("up",!0)},100),r!=="down"&&i.south&&i.linked(i.south)&&setTimeout(()=>{this.moveCursor("down",!0)},100),r!=="left"&&i.west&&i.linked(i.west)&&setTimeout(()=>{this.moveCursor("left",!0)},100),r!=="right"&&i.east&&i.linked(i.east)&&setTimeout(()=>{this.moveCursor("right",!0)},100)}else this.__cursorState="idle";this.cursor.column===this.startAndEndCells[1].column&&this.cursor.row===this.startAndEndCells[1].row?setTimeout(()=>{this.levelUp()},350):this.visitedCells.has(i.id)||this.visitedCells.set(i.id,1)}}}function qe(s,e,l){const t=s.slice();return t[17]=e[l],t}function Ae(s){let e,l,t=s[0].scoreDelta+"",i;return{c(){e=S("p"),l=V("+"),i=V(t),this.h()},l(o){e=q(o,"P",{class:!0});var r=g(e);l=G(r,"+"),i=G(r,t),r.forEach(f),this.h()},h(){n(e,"class","score-delta positive svelte-q2m9vv")},m(o,r){D(o,e,r),c(e,l),c(e,i)},p(o,r){r&1&&t!==(t=o[0].scoreDelta+"")&&te(i,t)},d(o){o&&f(e)}}}function Le(s){let e,l=s[0].scoreDelta+"",t;return{c(){e=S("p"),t=V(l),this.h()},l(i){e=q(i,"P",{class:!0});var o=g(e);t=G(o,l),o.forEach(f),this.h()},h(){n(e,"class","score-delta negative svelte-q2m9vv")},m(i,o){D(i,e,o),c(e,t)},p(i,o){o&1&&l!==(l=i[0].scoreDelta+"")&&te(t,l)},d(i){i&&f(e)}}}function Me(s){let e;return{c(){e=S("div"),this.h()},l(l){e=q(l,"DIV",{class:!0}),g(e).forEach(f),this.h()},h(){n(e,"class","svelte-q2m9vv")},m(l,t){D(l,e,t)},d(l){l&&f(e)}}}function Ue(s){let e,l=s[9].cells.get(s[17])+"",t,i,o;return{c(){e=Q("text"),t=V(l),this.h()},l(r){e=W(r,"text",{x:!0,y:!0});var a=g(e);t=G(a,l),a.forEach(f),this.h()},h(){n(e,"x",i=s[17].column*s[4]+s[4]/2-5),n(e,"y",o=s[17].row*s[4]+s[4]/2+5)},m(r,a){D(r,e,a),c(e,t)},p(r,a){a&640&&l!==(l=r[9].cells.get(r[17])+"")&&te(t,l),a&144&&i!==(i=r[17].column*r[4]+r[4]/2-5)&&n(e,"x",i),a&144&&o!==(o=r[17].row*r[4]+r[4]/2+5)&&n(e,"y",o)},d(r){r&&f(e)}}}function Te(s){let e,l,t;e=new $e({props:{cell:s[17],cellSize:s[4]}});let i=s[0].debug&&Ue(s);return{c(){Ke(e.$$.fragment),i&&i.c(),l=fe()},l(o){Re(e.$$.fragment,o),i&&i.l(o),l=fe()},m(o,r){Je(e,o,r),i&&i.m(o,r),D(o,l,r),t=!0},p(o,r){const a={};r&128&&(a.cell=o[17]),r&16&&(a.cellSize=o[4]),e.$set(a),o[0].debug?i?i.p(o,r):(i=Ue(o),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},i(o){t||(he(e.$$.fragment,o),t=!0)},o(o){ve(e.$$.fragment,o),t=!1},d(o){je(e,o),i&&i.d(o),o&&f(l)}}}function Be(s){let e,l,t,i,o,r,a,A,C,b,d,w,u,m,y,O,N,Y;return{c(){e=S("p"),l=V(`Master the art of maze navigation with Simply Labyrinths, the
				captivating online maze game!`),t=L(),i=S("p"),o=V("Follow these simple steps to succeed:"),r=L(),a=S("ul"),A=S("li"),C=V(`Move the red circle towards the green circle using your keyboard's
					arrow keys (or swipe over the maze if using a mobile device).`),b=L(),d=S("li"),w=V(`Progress through the labyrinth while collecting points for a higher
					score.`),u=L(),m=S("li"),y=V(`Be strategic and avoid revisiting the same spot, as this will result
					in point deductions.`),O=L(),N=S("p"),Y=V(`Stay focused and skillfully guide your way through the labyrinths for an
				unparalleled gaming experience!`),this.h()},l(k){e=q(k,"P",{class:!0});var _=g(e);l=G(_,`Master the art of maze navigation with Simply Labyrinths, the
				captivating online maze game!`),_.forEach(f),t=M(k),i=q(k,"P",{class:!0});var H=g(i);o=G(H,"Follow these simple steps to succeed:"),H.forEach(f),r=M(k),a=q(k,"UL",{class:!0});var K=g(a);A=q(K,"LI",{class:!0});var ee=g(A);C=G(ee,`Move the red circle towards the green circle using your keyboard's
					arrow keys (or swipe over the maze if using a mobile device).`),ee.forEach(f),b=M(K),d=q(K,"LI",{class:!0});var U=g(d);w=G(U,`Progress through the labyrinth while collecting points for a higher
					score.`),U.forEach(f),u=M(K),m=q(K,"LI",{class:!0});var X=g(m);y=G(X,`Be strategic and avoid revisiting the same spot, as this will result
					in point deductions.`),X.forEach(f),K.forEach(f),O=M(k),N=q(k,"P",{class:!0});var Z=g(N);Y=G(Z,`Stay focused and skillfully guide your way through the labyrinths for an
				unparalleled gaming experience!`),Z.forEach(f),this.h()},h(){n(e,"class","svelte-q2m9vv"),n(i,"class","svelte-q2m9vv"),n(A,"class","svelte-q2m9vv"),n(d,"class","svelte-q2m9vv"),n(m,"class","svelte-q2m9vv"),n(a,"class","svelte-q2m9vv"),n(N,"class","svelte-q2m9vv")},m(k,_){D(k,e,_),c(e,l),D(k,t,_),D(k,i,_),c(i,o),D(k,r,_),D(k,a,_),c(a,A),c(A,C),c(a,b),c(a,d),c(d,w),c(a,u),c(a,m),c(m,y),D(k,O,_),D(k,N,_),c(N,Y)},d(k){k&&f(e),k&&f(t),k&&f(i),k&&f(r),k&&f(a),k&&f(O),k&&f(N)}}}function os(s){let e,l,t,i,o,r,a,A,C,b,d,w,u,m,y,O,N,Y,k,_,H,K,ee,U,X,Z,ie,F,re,oe,ne,ce,$,R,de,pe,T=s[0].scoreDelta>0&&Ae(s),B=s[0].scoreDelta<0&&Le(s),I=s[0].scoreDelta===0&&Me(),x=s[7].cells,E=[];for(let h=0;h<x.length;h+=1)E[h]=Te(qe(s,x,h));const Ge=h=>ve(E[h],1,1,()=>{E[h]=null});let P=s[0].level===1&&Be();return{c(){e=S("header"),l=S("div"),t=L(),i=S("h1"),o=V("Simply Labyrinths"),r=L(),a=S("p"),A=V("Level "),C=V(s[2]),b=L(),d=S("div"),w=S("div"),u=L(),m=S("div"),y=S("div"),O=S("div"),N=L(),Y=S("p"),k=V(s[3]),_=L(),T&&T.c(),H=L(),B&&B.c(),K=L(),I&&I.c(),ee=L(),U=Q("svg"),X=Q("circle");for(let h=0;h<E.length;h+=1)E[h].c();F=Q("circle"),ce=L(),$=S("div"),P&&P.c(),this.h()},l(h){e=q(h,"HEADER",{class:!0});var p=g(e);l=q(p,"DIV",{}),g(l).forEach(f),t=M(p),i=q(p,"H1",{class:!0});var z=g(i);o=G(z,"Simply Labyrinths"),z.forEach(f),r=M(p),a=q(p,"P",{class:!0});var se=g(a);A=G(se,"Level "),C=G(se,s[2]),se.forEach(f),p.forEach(f),b=M(h),d=q(h,"DIV",{class:!0});var le=g(d);w=q(le,"DIV",{class:!0}),g(w).forEach(f),u=M(le),m=q(le,"DIV",{class:!0});var ae=g(m);y=q(ae,"DIV",{class:!0});var J=g(y);O=q(J,"DIV",{class:!0}),g(O).forEach(f),N=M(J),Y=q(J,"P",{class:!0});var we=g(Y);k=G(we,s[3]),we.forEach(f),_=M(J),T&&T.l(J),H=M(J),B&&B.l(J),K=M(J),I&&I.l(J),J.forEach(f),ee=M(ae),U=W(ae,"svg",{viewBox:!0,class:!0});var ue=g(U);X=W(ue,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),g(X).forEach(f);for(let me=0;me<E.length;me+=1)E[me].l(ue);F=W(ue,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0}),g(F).forEach(f),ue.forEach(f),ae.forEach(f),ce=M(le),$=q(le,"DIV",{class:!0});var ke=g($);P&&P.l(ke),ke.forEach(f),le.forEach(f),this.h()},h(){n(i,"class","svelte-q2m9vv"),n(a,"class","svelte-q2m9vv"),n(e,"class","header svelte-q2m9vv"),n(w,"class","aside svelte-q2m9vv"),n(O,"class","aside svelte-q2m9vv"),n(Y,"class","score svelte-q2m9vv"),n(y,"class","score-info svelte-q2m9vv"),n(X,"cx",Z=(s[8][1].column+1)*s[4]-s[4]/2),n(X,"cy",ie=(s[8][1].row+1)*s[4]-s[4]/2),n(X,"r","7"),n(X,"fill","#009900"),n(F,"class","cursor svelte-q2m9vv"),n(F,"cx",re=s[0].cursorToScreenCoordinates(s[1].column)),n(F,"cy",oe=s[0].cursorToScreenCoordinates(s[1].row)),n(F,"r","7"),n(F,"fill","#990000"),n(U,"viewBox",ne="-5 -5 "+(s[4]*s[5]+10)+" "+(s[4]*s[6]+10)),n(U,"class","maze svelte-q2m9vv"),n(m,"class","main-body svelte-q2m9vv"),n($,"class","aside xs-mt-1 svelte-q2m9vv"),n(d,"class","main svelte-q2m9vv")},m(h,p){D(h,e,p),c(e,l),c(e,t),c(e,i),c(i,o),c(e,r),c(e,a),c(a,A),c(a,C),D(h,b,p),D(h,d,p),c(d,w),c(d,u),c(d,m),c(m,y),c(y,O),c(y,N),c(y,Y),c(Y,k),c(y,_),T&&T.m(y,null),c(y,H),B&&B.m(y,null),c(y,K),I&&I.m(y,null),c(m,ee),c(m,U),c(U,X);for(let z=0;z<E.length;z+=1)E[z]&&E[z].m(U,null);c(U,F),c(d,ce),c(d,$),P&&P.m($,null),R=!0,de||(pe=[_e(window,"keydown",s[10]),_e(U,"touchstart",s[11]),_e(U,"touchend",s[11])],de=!0)},p(h,[p]){if((!R||p&4)&&te(C,h[2]),(!R||p&8)&&te(k,h[3]),h[0].scoreDelta>0?T?T.p(h,p):(T=Ae(h),T.c(),T.m(y,H)):T&&(T.d(1),T=null),h[0].scoreDelta<0?B?B.p(h,p):(B=Le(h),B.c(),B.m(y,K)):B&&(B.d(1),B=null),h[0].scoreDelta===0?I||(I=Me(),I.c(),I.m(y,null)):I&&(I.d(1),I=null),(!R||p&272&&Z!==(Z=(h[8][1].column+1)*h[4]-h[4]/2))&&n(X,"cx",Z),(!R||p&272&&ie!==(ie=(h[8][1].row+1)*h[4]-h[4]/2))&&n(X,"cy",ie),p&657){x=h[7].cells;let z;for(z=0;z<x.length;z+=1){const se=qe(h,x,z);E[z]?(E[z].p(se,p),he(E[z],1)):(E[z]=Te(se),E[z].c(),he(E[z],1),E[z].m(U,F))}for(Qe(),z=x.length;z<E.length;z+=1)Ge(z);Ye()}(!R||p&3&&re!==(re=h[0].cursorToScreenCoordinates(h[1].column)))&&n(F,"cx",re),(!R||p&3&&oe!==(oe=h[0].cursorToScreenCoordinates(h[1].row)))&&n(F,"cy",oe),(!R||p&112&&ne!==(ne="-5 -5 "+(h[4]*h[5]+10)+" "+(h[4]*h[6]+10)))&&n(U,"viewBox",ne),h[0].level===1?P||(P=Be(),P.c(),P.m($,null)):P&&(P.d(1),P=null)},i(h){if(!R){for(let p=0;p<x.length;p+=1)he(E[p]);R=!0}},o(h){E=E.filter(Boolean);for(let p=0;p<E.length;p+=1)ve(E[p]);R=!1},d(h){h&&f(e),h&&f(b),h&&f(d),T&&T.d(),B&&B.d(),I&&I.d(),Fe(E,h),P&&P.d(),de=!1,He(pe)}}}const Ie=25;function ns(s,e,l){const t=new rs;let i=t.cursor,o=t.level,r=t.score,a=t.cellSize,A=t.columns,C=t.rows,b=t.maze,d=t.startAndEndCells,w=t.maze.cells[0].distances();t.onCursorUpdate=_=>{l(3,r=t.score),l(1,i=_)},t.onLevelUp=_=>{l(4,a=t.cellSize),l(5,A=t.columns),l(6,C=t.rows),l(7,b=t.maze),l(8,d=t.startAndEndCells),l(1,i=t.cursor),l(9,w=t.maze.cells[0].distances()),l(2,o=_)};const u=_=>{_.key==="ArrowRight"&&t.moveCursor("right"),_.key==="ArrowLeft"&&t.moveCursor("left"),_.key==="ArrowDown"&&t.moveCursor("down"),_.key==="ArrowUp"&&t.moveCursor("up")};let m,y,O,N;const Y=()=>{const _=O-m,H=N-y;(Math.abs(_)>Ie||Math.abs(H)>Ie)&&(Math.abs(_)>Math.abs(H)?_>0?t.moveCursor("right"):t.moveCursor("left"):H>0?t.moveCursor("down"):t.moveCursor("up"))};return[t,i,o,r,a,A,C,b,d,w,u,_=>{switch(_.preventDefault(),_.type){case"touchstart":m=_.touches[0].clientX,y=_.touches[0].clientY;break;case"touchend":O=_.changedTouches[0].clientX,N=_.changedTouches[0].clientY,Y();break}}]}class fs extends Pe{constructor(e){super(),Ne(this,e,ns,os,Ve,{})}}export{fs as default};
