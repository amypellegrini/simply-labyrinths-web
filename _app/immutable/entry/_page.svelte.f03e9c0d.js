var Ae=Object.defineProperty;var Te=(s,e,l)=>e in s?Ae(s,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[e]=l;var R=(s,e,l)=>(Te(s,typeof e!="symbol"?e+"":e,l),l);import{S as Ve,i as qe,s as Be,k as M,a as Y,q as H,J as Z,l as C,m as b,h as c,c as G,r as O,K as $,n as i,p as pe,b as D,G as m,L as ue,u as re,H as me,M as Ne,N as Xe,e as K}from"../chunks/index.ad1e6ef4.js";class Ye{constructor(e){R(this,"root");R(this,"cells");this.root=e,this.cells=new Map,this.cells.set(this.root,0)}setCellDistance(e,l){this.cells.set(e,l)}max(){let e=this.root,l=0;return this.cells.forEach((o,t)=>{o>l&&(e=t,l=o)}),[e,l]}}class Ge{constructor(e,l){R(this,"id");R(this,"row");R(this,"column");R(this,"links");R(this,"north");R(this,"south");R(this,"west");R(this,"east");this.id=`${e}-${l}`,this.row=e,this.column=l,this.links=new Map}link(e,l=!1){this.links.has(e.id)||(this.links.set(e.id,{cell:e,bidi:l}),l&&e.link(this,!0))}unlink(e){this.links.delete(e.id),e.links.has(this.id)&&e.unlink(this)}linked(e){return this.links.has(e.id)}neighbours(){const e=[];return this.north&&e.push(this.north),this.south&&e.push(this.south),this.east&&e.push(this.east),this.west&&e.push(this.west),e}distances(){const e=new Ye(this);let l=[this];for(;l.length>0;){const o=[];l.forEach(t=>{t.links.forEach(f=>{e.cells.get(f.cell)===void 0&&(e.setCellDistance(f.cell,e.cells.get(t)+1),o.push(f.cell))})}),l=o}return e}}function oe(s,e){return Math.floor(Math.random()*(e-s+1))+s}class ve{constructor(e,l){this.rows=e,this.columns=l,this.cells=[],this.grid=this.prepareGrid(),this.configureCells()}prepareGrid(){return Array.from({length:this.rows}).map((l,o)=>Array.from({length:this.columns}).map((f,r)=>{const a=new Ge(o,r);return this.cells.push(a),a}))}configureCells(){this.cells.forEach(e=>{this.grid[e.row-1]&&(e.north=this.grid[e.row-1][e.column]),this.grid[e.row+1]&&(e.south=this.grid[e.row+1][e.column]),this.grid[e.row][e.column+1]&&(e.east=this.grid[e.row][e.column+1]),this.grid[e.row][e.column-1]&&(e.west=this.grid[e.row][e.column-1])})}size(){return this.columns*this.rows}randomCell(){return this.cells[oe(0,this.cells.length)]}}function we(s){const e=[];for(s.cells.forEach(l=>{e.push(l)}),e.splice(oe(0,e.length-1),1);e.length>0;){let l=e[oe(0,e.length-1)],o=[l];for(;e.indexOf(l)!==-1;){l=l.neighbours()[oe(0,l.neighbours().length-1)];const t=o.indexOf(l);t!==-1?o=o.slice(0,t+1):o.push(l)}for(let t=0;t<o.length-1;t++)o[t].link(o[t+1],!0),e.splice(e.indexOf(o[t]),1)}return s}function ke(s){const e=s.cells[0].distances(),[l]=e.max(),o=l.distances(),[t]=o.max();return[t,l]}function ye(s,e,l){const o=s.slice();return o[19]=e[l],o}function ge(s){let e,l,o;return{c(){e=M("p"),l=H("+"),o=H(s[6]),this.h()},l(t){e=C(t,"P",{class:!0});var f=b(e);l=O(f,"+"),o=O(f,s[6]),f.forEach(c),this.h()},h(){i(e,"class","score-delta positive svelte-6vhj19")},m(t,f){D(t,e,f),m(e,l),m(e,o)},p(t,f){f&64&&re(o,t[6])},d(t){t&&c(e)}}}function be(s){let e,l;return{c(){e=M("p"),l=H(s[6]),this.h()},l(o){e=C(o,"P",{class:!0});var t=b(e);l=O(t,s[6]),t.forEach(c),this.h()},h(){i(e,"class","score-delta negative svelte-6vhj19")},m(o,t){D(o,e,t),m(e,l)},p(o,t){t&64&&re(l,o[6])},d(o){o&&c(e)}}}function Ee(s){let e;return{c(){e=M("div"),this.h()},l(l){e=C(l,"DIV",{class:!0}),b(e).forEach(c),this.h()},h(){i(e,"class","svelte-6vhj19")},m(l,o){D(l,e,o)},d(l){l&&c(e)}}}function je(s){let e,l,o,t,f;return{c(){e=Z("line"),this.h()},l(r){e=$(r,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),b(e).forEach(c),this.h()},h(){i(e,"x1",l=s[19].column*h),i(e,"y1",o=s[19].row*h),i(e,"x2",t=s[19].column*h+h),i(e,"y2",f=s[19].row*h),i(e,"stroke","black"),i(e,"stroke-width","3"),i(e,"stroke-linecap","square")},m(r,a){D(r,e,a)},p(r,a){a&4&&l!==(l=r[19].column*h)&&i(e,"x1",l),a&4&&o!==(o=r[19].row*h)&&i(e,"y1",o),a&4&&t!==(t=r[19].column*h+h)&&i(e,"x2",t),a&4&&f!==(f=r[19].row*h)&&i(e,"y2",f)},d(r){r&&c(e)}}}function De(s){let e,l,o,t,f;return{c(){e=Z("line"),this.h()},l(r){e=$(r,"line",{"stroke-width":!0,x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-linecap":!0}),b(e).forEach(c),this.h()},h(){i(e,"stroke-width","3"),i(e,"x1",l=s[19].column*h+h),i(e,"y1",o=s[19].row*h),i(e,"x2",t=s[19].column*h+h),i(e,"y2",f=s[19].row*h+h),i(e,"stroke","black"),i(e,"stroke-linecap","square")},m(r,a){D(r,e,a)},p(r,a){a&4&&l!==(l=r[19].column*h+h)&&i(e,"x1",l),a&4&&o!==(o=r[19].row*h)&&i(e,"y1",o),a&4&&t!==(t=r[19].column*h+h)&&i(e,"x2",t),a&4&&f!==(f=r[19].row*h+h)&&i(e,"y2",f)},d(r){r&&c(e)}}}function Me(s){let e,l,o,t,f;return{c(){e=Z("line"),this.h()},l(r){e=$(r,"line",{"stroke-width":!0,x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-linecap":!0}),b(e).forEach(c),this.h()},h(){i(e,"stroke-width","3"),i(e,"x1",l=s[19].column*h),i(e,"y1",o=s[19].row*h),i(e,"x2",t=s[19].column*h),i(e,"y2",f=s[19].row*h+h),i(e,"stroke","black"),i(e,"stroke-linecap","square")},m(r,a){D(r,e,a)},p(r,a){a&4&&l!==(l=r[19].column*h)&&i(e,"x1",l),a&4&&o!==(o=r[19].row*h)&&i(e,"y1",o),a&4&&t!==(t=r[19].column*h)&&i(e,"x2",t),a&4&&f!==(f=r[19].row*h+h)&&i(e,"y2",f)},d(r){r&&c(e)}}}function Ce(s){let e,l,o,t,f;return{c(){e=Z("line"),this.h()},l(r){e=$(r,"line",{"stroke-width":!0,x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-linecap":!0}),b(e).forEach(c),this.h()},h(){i(e,"stroke-width","3"),i(e,"x1",l=s[19].column*h),i(e,"y1",o=s[19].row*h+h),i(e,"x2",t=s[19].column*h+h),i(e,"y2",f=s[19].row*h+h),i(e,"stroke","black"),i(e,"stroke-linecap","square")},m(r,a){D(r,e,a)},p(r,a){a&4&&l!==(l=r[19].column*h)&&i(e,"x1",l),a&4&&o!==(o=r[19].row*h+h)&&i(e,"y1",o),a&4&&t!==(t=r[19].column*h+h)&&i(e,"x2",t),a&4&&f!==(f=r[19].row*h+h)&&i(e,"y2",f)},d(r){r&&c(e)}}}function Se(s){let e,l,o;return{c(){e=Z("circle"),this.h()},l(t){e=$(t,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),b(e).forEach(c),this.h()},h(){i(e,"cx",l=(s[19].column+1)*h-h/2),i(e,"cy",o=(s[19].row+1)*h-h/2),i(e,"r","7"),i(e,"fill","#009900")},m(t,f){D(t,e,f)},p(t,f){f&4&&l!==(l=(t[19].column+1)*h-h/2)&&i(e,"cx",l),f&4&&o!==(o=(t[19].row+1)*h-h/2)&&i(e,"cy",o)},d(t){t&&c(e)}}}function Le(s){let e=!s[19].north||s[19].north&&!s[19].linked(s[19].north),l,o=!s[19].east||s[19].east&&!s[19].linked(s[19].east),t,f=!s[19].west||s[19].west&&!s[19].linked(s[19].west),r,a=!s[19].south||s[19].south&&!s[19].linked(s[19].south),S,P,A,u=e&&je(s),g=o&&De(s),E=f&&Me(s),_=a&&Ce(s),d=s[19].id===s[3][1].id&&Se(s);return{c(){u&&u.c(),l=K(),g&&g.c(),t=K(),E&&E.c(),r=K(),_&&_.c(),S=K(),d&&d.c(),P=K(),A=K()},l(n){u&&u.l(n),l=K(),g&&g.l(n),t=K(),E&&E.l(n),r=K(),_&&_.l(n),S=K(),d&&d.l(n),P=K(),A=K()},m(n,v){u&&u.m(n,v),D(n,l,v),g&&g.m(n,v),D(n,t,v),E&&E.m(n,v),D(n,r,v),_&&_.m(n,v),D(n,S,v),d&&d.m(n,v),D(n,P,v),D(n,A,v)},p(n,v){v&4&&(e=!n[19].north||n[19].north&&!n[19].linked(n[19].north)),e?u?u.p(n,v):(u=je(n),u.c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null),v&4&&(o=!n[19].east||n[19].east&&!n[19].linked(n[19].east)),o?g?g.p(n,v):(g=De(n),g.c(),g.m(t.parentNode,t)):g&&(g.d(1),g=null),v&4&&(f=!n[19].west||n[19].west&&!n[19].linked(n[19].west)),f?E?E.p(n,v):(E=Me(n),E.c(),E.m(r.parentNode,r)):E&&(E.d(1),E=null),v&4&&(a=!n[19].south||n[19].south&&!n[19].linked(n[19].south)),a?_?_.p(n,v):(_=Ce(n),_.c(),_.m(S.parentNode,S)):_&&(_.d(1),_=null),n[19].id===n[3][1].id?d?d.p(n,v):(d=Se(n),d.c(),d.m(P.parentNode,P)):d&&(d.d(1),d=null)},d(n){u&&u.d(n),n&&c(l),g&&g.d(n),n&&c(t),E&&E.d(n),n&&c(r),_&&_.d(n),n&&c(S),d&&d.d(n),n&&c(P),n&&c(A)}}}function ze(s){let e,l,o,t,f,r,a,S,P,A,u,g,E,_,d,n,v,F;return{c(){e=M("p"),l=H("Master the art of maze navigation with Simply Labyrinths, the captivating online maze game!"),o=Y(),t=M("p"),f=H("Follow these simple steps to succeed:"),r=Y(),a=M("ul"),S=M("li"),P=H(`Move the red circle towards the green circle using your keyboard's arrow keys (or swipe
					over the maze if using a mobile device).`),A=Y(),u=M("li"),g=H("Progress through the labyrinth while collecting points for a higher score."),E=Y(),_=M("li"),d=H("Be strategic and avoid revisiting the same spot, as this will result in point deductions."),n=Y(),v=M("p"),F=H(`Stay focused and skillfully guide your way through the labyrinths for an unparalleled gaming
				experience!`),this.h()},l(y){e=C(y,"P",{class:!0});var V=b(e);l=O(V,"Master the art of maze navigation with Simply Labyrinths, the captivating online maze game!"),V.forEach(c),o=G(y),t=C(y,"P",{class:!0});var J=b(t);f=O(J,"Follow these simple steps to succeed:"),J.forEach(c),r=G(y),a=C(y,"UL",{class:!0});var k=b(a);S=C(k,"LI",{class:!0});var j=b(S);P=O(j,`Move the red circle towards the green circle using your keyboard's arrow keys (or swipe
					over the maze if using a mobile device).`),j.forEach(c),A=G(k),u=C(k,"LI",{class:!0});var w=b(u);g=O(w,"Progress through the labyrinth while collecting points for a higher score."),w.forEach(c),E=G(k),_=C(k,"LI",{class:!0});var L=b(_);d=O(L,"Be strategic and avoid revisiting the same spot, as this will result in point deductions."),L.forEach(c),k.forEach(c),n=G(y),v=C(y,"P",{class:!0});var Q=b(v);F=O(Q,`Stay focused and skillfully guide your way through the labyrinths for an unparalleled gaming
				experience!`),Q.forEach(c),this.h()},h(){i(e,"class","svelte-6vhj19"),i(t,"class","svelte-6vhj19"),i(S,"class","svelte-6vhj19"),i(u,"class","svelte-6vhj19"),i(_,"class","svelte-6vhj19"),i(a,"class","svelte-6vhj19"),i(v,"class","svelte-6vhj19")},m(y,V){D(y,e,V),m(e,l),D(y,o,V),D(y,t,V),m(t,f),D(y,r,V),D(y,a,V),m(a,S),m(S,P),m(a,A),m(a,u),m(u,g),m(a,E),m(a,_),m(_,d),D(y,n,V),D(y,v,V),m(v,F)},d(y){y&&c(e),y&&c(o),y&&c(t),y&&c(r),y&&c(a),y&&c(n),y&&c(v)}}}function Fe(s){let e,l,o,t,f,r,a,S,P,A,u,g,E,_,d,n,v,F,y,V,J,k,j,w,L,Q,se,te,ne,W,he,ce,q=s[6]>0&&ge(s),B=s[6]<0&&be(s),N=s[6]===0&&Ee(),x=s[2].cells,T=[];for(let p=0;p<x.length;p+=1)T[p]=Le(ye(s,x,p));let X=s[4]===1&&ze();return{c(){e=M("header"),l=M("div"),o=Y(),t=M("h1"),f=H("Simply Labyrinths"),r=Y(),a=M("p"),S=H("Level "),P=H(s[4]),A=Y(),u=M("div"),g=M("div"),E=Y(),_=M("div"),d=M("div"),n=M("div"),v=Y(),F=M("p"),y=H(s[5]),V=Y(),q&&q.c(),J=Y(),B&&B.c(),k=Y(),N&&N.c(),j=Y(),w=Z("svg");for(let p=0;p<T.length;p+=1)T[p].c();L=Z("circle"),ne=Y(),W=M("div"),X&&X.c(),this.h()},l(p){e=C(p,"HEADER",{class:!0});var z=b(e);l=C(z,"DIV",{}),b(l).forEach(c),o=G(z),t=C(z,"H1",{class:!0});var I=b(t);f=O(I,"Simply Labyrinths"),I.forEach(c),r=G(z),a=C(z,"P",{class:!0});var ee=b(a);S=O(ee,"Level "),P=O(ee,s[4]),ee.forEach(c),z.forEach(c),A=G(p),u=C(p,"DIV",{class:!0});var le=b(u);g=C(le,"DIV",{class:!0}),b(g).forEach(c),E=G(le),_=C(le,"DIV",{class:!0});var ie=b(_);d=C(ie,"DIV",{class:!0});var U=b(d);n=C(U,"DIV",{class:!0}),b(n).forEach(c),v=G(U),F=C(U,"P",{class:!0});var _e=b(F);y=O(_e,s[5]),_e.forEach(c),V=G(U),q&&q.l(U),J=G(U),B&&B.l(U),k=G(U),N&&N.l(U),U.forEach(c),j=G(ie),w=$(ie,"svg",{viewBox:!0,class:!0,style:!0});var ae=b(w);for(let fe=0;fe<T.length;fe+=1)T[fe].l(ae);L=$(ae,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0}),b(L).forEach(c),ae.forEach(c),ie.forEach(c),ne=G(le),W=C(le,"DIV",{class:!0});var de=b(W);X&&X.l(de),de.forEach(c),le.forEach(c),this.h()},h(){i(t,"class","svelte-6vhj19"),i(a,"class","svelte-6vhj19"),i(e,"class","header svelte-6vhj19"),i(g,"class","aside svelte-6vhj19"),i(n,"class","aside svelte-6vhj19"),i(F,"class","score svelte-6vhj19"),i(d,"class","score-info svelte-6vhj19"),i(L,"class","cursor svelte-6vhj19"),i(L,"cx",Q=(s[7].x+1)*h-h/2),i(L,"cy",se=(s[7].y+1)*h-h/2),i(L,"r","7"),i(L,"fill","#990000"),i(w,"viewBox",te="-5 -5 "+(h*s[1]+10)+" "+(h*s[0]+10)),i(w,"class","maze svelte-6vhj19"),pe(w,"margin","0 auto"),pe(w,"display","block"),i(_,"class","main-body svelte-6vhj19"),i(W,"class","aside xs-mt-1 svelte-6vhj19"),i(u,"class","main svelte-6vhj19")},m(p,z){D(p,e,z),m(e,l),m(e,o),m(e,t),m(t,f),m(e,r),m(e,a),m(a,S),m(a,P),D(p,A,z),D(p,u,z),m(u,g),m(u,E),m(u,_),m(_,d),m(d,n),m(d,v),m(d,F),m(F,y),m(d,V),q&&q.m(d,null),m(d,J),B&&B.m(d,null),m(d,k),N&&N.m(d,null),m(_,j),m(_,w);for(let I=0;I<T.length;I+=1)T[I]&&T[I].m(w,null);m(w,L),m(u,ne),m(u,W),X&&X.m(W,null),he||(ce=[ue(window,"keydown",s[9]),ue(w,"touchstart",s[10]),ue(w,"touchend",s[10])],he=!0)},p(p,[z]){if(z&16&&re(P,p[4]),z&32&&re(y,p[5]),p[6]>0?q?q.p(p,z):(q=ge(p),q.c(),q.m(d,J)):q&&(q.d(1),q=null),p[6]<0?B?B.p(p,z):(B=be(p),B.c(),B.m(d,k)):B&&(B.d(1),B=null),p[6]===0?N||(N=Ee(),N.c(),N.m(d,null)):N&&(N.d(1),N=null),z&268){x=p[2].cells;let I;for(I=0;I<x.length;I+=1){const ee=ye(p,x,I);T[I]?T[I].p(ee,z):(T[I]=Le(ee),T[I].c(),T[I].m(w,L))}for(;I<T.length;I+=1)T[I].d(1);T.length=x.length}z&128&&Q!==(Q=(p[7].x+1)*h-h/2)&&i(L,"cx",Q),z&128&&se!==(se=(p[7].y+1)*h-h/2)&&i(L,"cy",se),z&3&&te!==(te="-5 -5 "+(h*p[1]+10)+" "+(h*p[0]+10))&&i(w,"viewBox",te),p[4]===1?X||(X=ze(),X.c(),X.m(W,null)):X&&(X.d(1),X=null)},i:me,o:me,d(p){p&&c(e),p&&c(A),p&&c(u),q&&q.d(),B&&B.d(),N&&N.d(),Ne(T,p),X&&X.d(),he=!1,Xe(ce)}}}const h=30,Ie=3,Pe=25;function He(s,e,l){let o=5,t=5,f=we(new ve(o,t)),r=ke(f),a=new Map,S=1,P=0,A=0;a.set(r[0].id,1);const u={x:r[0].column,y:r[0].row};let g=f.cells[0].distances();const E=()=>{l(0,o+=Ie),l(1,t+=Ie),l(2,f=we(new ve(o,t))),l(3,r=ke(f)),a=new Map,l(4,S+=1),a.set(r[0].id,1),l(7,u.x=r[0].column,u),l(7,u.y=r[0].row,u),l(8,g=f.cells[0].distances())},_=k=>{const j=f.grid[u.y][u.x];k==="right"&&j.east&&j.linked(j.east)&&l(7,u.x+=1,u),k==="left"&&j.west&&j.linked(j.west)&&l(7,u.x-=1,u),k==="down"&&j.south&&j.linked(j.south)&&l(7,u.y+=1,u),k==="up"&&j.north&&j.linked(j.north)&&l(7,u.y-=1,u);const w=f.grid[u.y][u.x];if(j!==w&&(a.has(w.id)?l(6,A=-5):(a.set(w.id,1),l(6,A=3)),l(5,P+=A),w.links.size===2)){const L={right:"left",left:"right",down:"up",up:"down"}[k];L!=="up"&&w.north&&w.linked(w.north)&&setTimeout(()=>{_("up")},100),L!=="down"&&w.south&&w.linked(w.south)&&setTimeout(()=>{_("down")},100),L!=="left"&&w.west&&w.linked(w.west)&&setTimeout(()=>{_("left")},100),L!=="right"&&w.east&&w.linked(w.east)&&setTimeout(()=>{_("right")},100)}u.x===r[1].column&&u.y===r[1].row&&setTimeout(()=>{E()},500)},d=k=>{k.key==="ArrowRight"&&_("right"),k.key==="ArrowLeft"&&_("left"),k.key==="ArrowDown"&&_("down"),k.key==="ArrowUp"&&_("up")};let n,v,F,y;const V=()=>{const k=F-n,j=y-v;(Math.abs(k)>Pe||Math.abs(j)>Pe)&&(Math.abs(k)>Math.abs(j)?k>0?_("right"):_("left"):j>0?_("down"):_("up"))};return[o,t,f,r,S,P,A,u,g,d,k=>{switch(k.preventDefault(),k.type){case"touchstart":n=k.touches[0].clientX,v=k.touches[0].clientY;break;case"touchend":F=k.changedTouches[0].clientX,y=k.changedTouches[0].clientY,V();break}}]}class Re extends Ve{constructor(e){super(),qe(this,e,He,Fe,Be,{})}}export{Re as default};
